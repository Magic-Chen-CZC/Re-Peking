# 北京导览 AI - 检索系统使用说明

## 功能说明

`search.py` 是一个 RAG（检索增强生成）检索测试脚本，支持两种使用模式：

### 1. 命令行模式（单次查询）

直接在命令行传入查询内容：

```bash
python search.py 北京影视打卡地点
```

### 2. 交互式模式（持续对话）

不带参数运行，进入交互式检索：

```bash
python search.py
```

然后可以连续输入多个查询，输入 `quit` 或 `exit` 退出。

## 使用示例

### 示例 1：查找影视打卡点

```bash
python search.py 邪不压正拍摄地
```

### 示例 2：查找美食地点

```bash
python search.py 北京好吃的地方
```

### 示例 3：交互式检索

```bash
python search.py

🔎 请输入查询: 屋顶打卡
📝 检索结果:
...

🔎 请输入查询: 东四附近有什么
📝 检索结果:
...

🔎 请输入查询: quit
👋 再见！
```

## 输出内容

检索结果包含：

1. **检索结果**：基于语义相似度匹配的回答
2. **来源文档**：
   - 相似度评分
   - 地点名称
   - 分类（影视打卡/美食/其他）
   - 推荐指数（1-5分）
   - 是否有效
   - 原始 URL
   - 摘要内容

## 技术实现

- **嵌入模型**：通义千问 text-embedding-v4
- **向量数据库**：ChromaDB
- **检索框架**：LlamaIndex
- **检索方式**：语义相似度匹配

## 注意事项

1. 确保已运行 `main.py` 采集并存储了数据
2. 确保 `.env` 中配置了正确的 `DASHSCOPE_API_KEY`
3. 首次查询会加载索引，需要几秒钟初始化时间
